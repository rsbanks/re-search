<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professor Preferences</title>
</head>
<body>
    <nav class="header" style="position: sticky;">
        <a href="{{url_for('search')}}" class="title"  style="text-decoration:none">Re-Search</a>
        <a href="/" class="logout" style="text-decoration:none">Log Out</a>
    </nav>

    <!-- Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Success</h5>
          </div>
          <div id="modal-body" class="modal-body">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="closeModal" >Close</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal">Keep Editing</button>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="alert alert-success alert-dismissible collapse" role="alert" id="submissionSuccessAlert">
        Professor preferences successfully submited!
        <button type="button" class="close" id="submissionSuccessAlertClose">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>

    <div class="container">
      <div class="alert alert-danger alert-dismissible collapse" role="alert" id="submissionFailureAlert">
        Professor preferences failed to submit!
        <button type="button" class="close" id="submissionSuccessAlertClose">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>

    <div class="container" style="padding: 2%;">
    <h1 class="display-4">Senior Thesis Advisor Preference Form</h1>
    <p class="lead">Please list your top four choices for your senior thesis advisor.
        Next to each potential advisor, list a topic and any other
        comments that you wish to include.  Advisors from outside 
        of the ORFE department require permission from the selected
        faculty member. You must select at least one ORFE advisor.
        You may submit this form multiple times, but only the latest
        submission will be counted.
    </p>

    <form id="preference-form">
        <div class="custom-control custom-radio" require>
            <input type="radio" class="custom-control-input" id="customControlValidation2" name="radio-stacked" value="Senior Thesis ORF478" required>
            <label class="custom-control-label" for="customControlValidation2">Senior Thesis ORF478</label>
        </div>
        <div class="custom-control custom-radio mb-3">
            <input type="radio" class="custom-control-input" id="customControlValidation3" name="radio-stacked" value="One Semester Project ORF479" required>
            <label class="custom-control-label" for="customControlValidation3">One Semester Project ORF479</label>
        </div>

        <div class="form-group was-validated firstAdvisorChoice">
          <label for="firstAdvisorChoice">First Advisor Choice</label>
          <select class="form-control" required>
            <option value="" selected disabled></option>
            {% for prof in profs %}
            <option value="{{prof[1]}} {{prof[2]}}">{{prof[1]}} {{prof[2]}}</option>
            {% endfor %}
            <option value="Non ORFE professor">Non ORFE Professor (Name professor in Description)</option>
          </select>
        </div>
        <div class="form-group was-validated">
          <label for="firstAdvisorChoiceComments">Topic and Comments</label>
          <textarea class="form-control" id="firstAdvisorChoiceComments" rows="3"required></textarea>
        </div>

        <div class="form-group secondAdvisorChoice">
            <label for="secondAdvisorChoice">Second Advisor Choice</label>
            <select class="form-control">
              <option value="" selected></option>
              {% for prof in profs %}
              <option value="{{prof[1]}} {{prof[2]}}">{{prof[1]}} {{prof[2]}}</option>
              {% endfor %}
              <option value="Non ORFE professor">Non ORFE Professor (Name professor in Description)</option>
            </select>
          </div>
          <div class="form-group">
            <label for="secondAdvisorChoiceComments">Topic and Comments</label>
            <textarea class="form-control" id="secondAdvisorChoiceComments" rows="3"></textarea>
          </div> 

          <div class="form-group thirdAdvisorChoice">
            <label for="thirdAdvisorChoice">Third Advisor Choice</label>
            <select class="form-control">
              <option value="" selected></option>
              {% for prof in profs %}
              <option value="{{prof[1]}} {{prof[2]}}">{{prof[1]}} {{prof[2]}}</option>
              {% endfor %}
              <option value="Non ORFE professor">Non ORFE Professor (Name professor in Description)</option>
            </select>
          </div>
          <div class="form-group">
            <label for="thirdAdvisorChoiceComments">Topic and Comments</label>
            <textarea class="form-control" id="thirdAdvisorChoiceComments" rows="3"></textarea>
          </div>     

          <div class="form-group fourthAdvisorChoice">
            <label for="fourthAdvisorChoice">Fourth Advisor Choice</label>
            <select class="form-control">
              <option value="" selected></option>
              {% for prof in profs %}
              <option value="{{prof[1]}} {{prof[2]}}">{{prof[1]}} {{prof[2]}}</option>
              {% endfor %}
              <option value="Non ORFE professor">Non ORFE Professor (Name professor in Description)</option>
            </select>
          </div>
          <div class="form-group">
            <label for="fourthAdvisorChoiceComments">Topic and Comments</label>
            <textarea class="form-control" id="fourthAdvisorChoiceComments" rows="3"></textarea>
          </div>
          <button class="btn btn-block btn-dark" type="submit" id="profSubmit">Submit</button>
      </form>
      <button class="btn btn-block btn-dark" type="submit" id="cancelProfSubmit" style="margin-top: 1%">Cancel</button>

    </div>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    
    <script src="static/js/profPreferences.js"></script>

    <link rel="stylesheet" href="{{url_for('static', filename='css/profs.css')}}">

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100&display=swap" rel="stylesheet">

    <script>
      $(document).ready(loadChoices)
      function loadChoices() {
        $('.firstAdvisorChoice option[value="{{ first }}"]').attr('selected','selected');
        $('.secondAdvisorChoice option[value="{{ second }}"]').attr('selected','selected');
        $('.thirdAdvisorChoice option[value="{{ third }}"]').attr('selected','selected');
        $('.fourthAdvisorChoice option[value="{{ fourth }}"]').attr('selected','selected');
      }
    </script>

</body>
</html>